@startuml Resume Service
left to right direction
skinparam actorStyle awesome

' ðŸŒ™ ====== Global Dark Theme ======
skinparam backgroundColor #0e1116
skinparam defaultFontName "Segoe UI"
skinparam defaultFontSize 14
skinparam shadowing true

' ====== Use Case Styling ======
skinparam usecase {
  BackgroundColor #1e232b
  BorderColor #00bfff
  ArrowColor #ffffff
  FontColor #e6edf3
  FontStyle plain
}

' ====== Package Styling ======
skinparam package {
  BackgroundColor #141820
  BorderColor #00bfff
  FontColor #ffffff
  FontStyle bold
}

' ====== Rectangle (System Boundary) ======
skinparam rectangle {
  BackgroundColor #0f141a
  BorderColor #00bfff
  RoundCorner 15
  FontColor #ffffff
  FontStyle bold
}

' ====== Note Styling ======
skinparam note {
  BackgroundColor #2d343e
  BorderColor #00ffaa
  FontColor #cdd9e5
  FontStyle italic
}

' ====== Actor Colors ======
skinparam actor {
  FontColor #ffffff
  BorderColor #00bfff
  BackgroundColor #1a2432
  FontSize 14
}

skinparam actor<<JobSeeker>> {
  BackgroundColor #003366
  BorderColor #0099ff
}
skinparam actor<<s>> {
  BackgroundColor #4d4d00
  BorderColor #ffff00
}

' ====== Relationship Colors ======
skinparam Arrow {
  Color #00ffaa
  FontColor #00ffaa
}
skinparam Arrow<<include>> {
  Color #0099ff
  FontColor #0099ff
  LineStyle dotted
}
skinparam Arrow<<extend>> {
  Color #ff9900
  FontColor #ff9900
  LineStyle dashed
}

' ====== Actors ======
actor "Job Seeker" as JS <<JobSeeker>>

rectangle "Resume Service" {
    
    ' ========== Resume Upload & Management ==========
    package "Resume Upload & Storage" #18222f {
        usecase "Upload Resume" as UC1
        usecase "Validate File Type" as UC1a
        usecase "Validate File Size" as UC1b
        usecase "Generate Unique Filename" as UC1c
        usecase "Store in Cloud Storage" as UC1d
        usecase "Create Resume Metadata" as UC1e
        usecase "Get Resume File" as UC1f
        usecase "Delete Resume" as UC2
        usecase "Remove from Storage" as UC2a
        usecase "Download Resume" as UC3
        usecase "Generate Pre-signed URL" as UC3a
    }
    
    ' ========== Resume Parsing ==========
    package "Resume Parsing & Extraction" #1d2733 {
        usecase "Parse Resume" as UC4
        usecase "Extract Text" as UC4a
        usecase "Extract Skills" as UC4d
        usecase "Extract Experience" as UC4e
        usecase "Extract Education" as UC4f
        usecase "Extract Certifications" as UC4g
        usecase "Extract Contact Info" as UC4h
        usecase "Store Parsed Data" as UC4i
    }
    
    ' ========== Resume Retrieval ==========
    package "Resume Retrieval & Query" #232f3d {
        usecase "View Resume" as UC5x
        usecase "Get Resume Metadata" as UC5
        usecase "Get Parsed Resume Data" as UC7
        usecase "Get Skills" as UC8
        usecase "Get Experience Details" as UC9
        usecase "Get Education Details" as UC10
    }
    
    ' ========== Resume Analysis ==========
    package "Resume Analysis & Insights" #1b2632 {
        usecase "Analyze Resume Quality" as UC19
        usecase "Check Completeness Score" as UC19a
        usecase "Identify Missing Sections" as UC19b
        usecase "Get Skill Frequency" as UC20
        usecase "Compare with Job Requirements" as UC21
        usecase "Calculate Match Score" as UC21a
        usecase "Generate Resume Summary" as UC22
    }
}

' ========== Job Seeker Associations ==========
JS --> UC1
JS --> UC2
JS --> UC3
JS --> UC5x
JS --> UC19

' ========== Include Relationships ==========
UC1 ..> UC1a : <<include>>
UC1 ..> UC1b : <<include>>
UC1 ..> UC1c : <<include>>
UC1 ..> UC1d : <<include>>
UC1 ..> UC1e : <<include>>
UC1f ..> UC5 : <<include>>
UC2 ..> UC2a : <<include>>
UC3 ..> UC3a : <<include>>
UC4 ..> UC1f : <<include>>
UC4 ..> UC4a : <<include>>
UC4 ..> UC4i : <<include>>
UC5x ..> UC1f : <<include>>
UC19 ..> UC19a : <<include>>
UC19 ..> UC19b : <<include>>
UC19 ..> UC20 : <<include>>
UC21 ..> UC21a : <<include>>

' ========== Extend Relationships ==========
UC1f ..> UC1 : <<extend>>
UC3 ..> UC5x : <<extend>>
UC4 ..> UC1 : <<extend>>
UC4d ..> UC4a : <<extend>>
UC4e ..> UC4a : <<extend>>
UC4f ..> UC4a : <<extend>>
UC4g ..> UC4a : <<extend>>
UC4h ..> UC4a : <<extend>>
UC7 ..> UC1 : <<extend>>
UC8 ..> UC7 : <<extend>>
UC9 ..> UC7 : <<extend>>
UC10 ..> UC7 : <<extend>>
UC22 ..> UC19 : <<extend>>

' ====== Notes ======
note right of UC1
  Supported formats: PDF, DOCX, etc
  Max size: 5-10MB
  Auto-triggers parsing pipeline
end note

note right of UC4
  Multi-stage parsing:
  1. Text extraction (Apache Tika)
  2. NLP processing (Python service)
  3. Structured data storage
  Parse status: PENDING â†’ IN_PROGRESS â†’ COMPLETED/FAILED
end note

note right of UC4d
  NLP extracts:
  - Technical skills (Java, Python, React)
  - Soft skills (Leadership, Communication)
  - Tools & frameworks
  Uses pre-trained models + regex
end note

note right of UC19
  Resume Quality Score (0-100):
  - Contact info present (10%)
  - Skills section (25%)
  - Experience details (30%)
  - Education (20%)
  - Formatting & clarity (15%)
end note

note right of UC21
  Called by Job Matcher Service
  Returns skills match percentage
  and missing required skills
end note

@enduml